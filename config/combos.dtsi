#define COMBO(NAME, BINDINGS, KEYPOS, LAYERS) \
  combo_##NAME { \
    bindings = <BINDINGS>; \
    key-positions = <KEYPOS>; \
    layers = <LAYERS>; \
  };

/*                KEY POSITIONS

  ╭────────────────────╮ ╭────────────────────╮
  │     1   2   3   4  │ │  5   6   7   8     │
  │ 0  11  12  13  14  │ │ 15  16  17  18   9 │
  │ 10  21  22  23  24 │ │ 25  26  27  28  19 │
  ╰─20───────╮  30  31 │ │ 32  33  ╭───────29─╯
             ╰──── ────╯ ╰─────────╯
*/



/ {
    combos {
        compatible = "zmk,combos";

        COMBO(enter, &kp ENTER, 7 8, DEF NAV NUM)
        COMBO(backspace, &kp BACKSPACE, 18 9, DEF NAV NUM)
        COMBO(bkspWord, LG(&kp BACKSPACE), 18 9, DEF NAV NUM)
        COMBO(tab, &kp TAB, 0 1, DEF NAV NUM)
        COMBO(escape, &kp ESCAPE, 0 1, DEF NAV NUM)
        COMBO(delete, &kp DELETE, 7 8, DEF NAV NUM)

        // Parenthesis and Brackets
        COMBO(left_bracket, &kp LEFT_BRACKET, 2 12, DEF)
        COMBO(left_parenthesis, &kp LEFT_PARENTHESIS, 3 13, DEF)
        COMBO(left_brace, &kp LEFT_BRACE, 6 16, DEF)
        COMBO(less_than, &kp LESS_THAN, 7 17, DEF)

        // Left Hand Symbols
        COMBO(HASH, &kp HASH, 13 31, DEF)
        COMBO(DOLLAR, &kp DOLLAR, 12 31, DEF)
        COMBO(TILDE, &kp TILDE, 11 31, DEF)
        COMBO(GRAVE, &kp GRAVE, 10 31, DEF)
        COMBO(AT, &kp AT, 23 31, DEF)
        COMBO(ASTRK, &kp ASTRK, 22 31, DEF)
        
        // Right Hand Symbols
        COMBO(EXCL, &kp EXCL, 16 32, DEF)
        COMBO(QUESTION, &kp QUESTION, 17 32, DEF)
        COMBO(PERCENT, &kp PERCENT, 18 32, DEF)
        COMBO(AMPS, &kp AMPS, 19 32, DEF)
        COMBO(CARET, &kp CARET, 26 32, DEF)
        COMBO(PIPE, &kp PIPE, 27 32, DEF)
        
        // Shortcuts
        COMBO(undo, MAC_UNDO, 20 21, DEF)
        COMBO(redo, MAC_REDO, 20 10, DEF)
        COMBO(copy, MAC_COPY, 21 22, DEF)
        COMBO(cut, MAC_CUT, 21 23, DEF)
        COMBO(paste, MAC_PASTE, 22 23, DEF)
        COMBO(select_all, MAC_SELECT_ALL, 20 23, DEF)

        COMBO(tab_left, o_TABL_, 27 28, DEF)
        COMBO(tab_right, o_TABR_, 28 29, DEF)

        COMBO(num_1, &kp N1, 11 26, DEF)
        COMBO(num_2, &kp N2, 11 27, DEF)
        COMBO(num_3, &kp N3, 11 28, DEF)
        COMBO(num_4, &kp N4, 11 16, DEF)
        COMBO(num_5, &kp N5, 11 17, DEF)
        COMBO(num_6, &kp N6, 11 18, DEF)
        COMBO(num_7, &kp N7, 11 6, DEF)
        COMBO(num_8, &kp N8, 11 7, DEF)
        COMBO(num_9, &kp N9, 11 8, DEF)
        COMBO(num_0, &kp N0, 11 15, DEF)

        COMBO(combo_z, &kp Z, 0 11, DEF)
        COMBO(combo_q, &kp Q, 26 29, DEF)
    };
};